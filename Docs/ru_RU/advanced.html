<!doctype html>
<html lang="ru">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Image Uploader - Дополнительная информация по использованию</title>
<link href="../default.css" rel="stylesheet" type="text/css" />
<!--<link href="styles/default.css" rel="stylesheet" type="text/css" />-->
<link href="../prettify/prettify.css" rel="stylesheet" type="text/css" />
</head>
<body onload="prettyPrint()">
<script type="text/javascript" src="../prettify/prettify.js"></script>
<div id="header">
<h1>Image Uploader</h1> <div id="version"></div>
</div>
 <div id="menu">
    <ul>
        <li><a href="index.html">Описание</a></li>        
        <li><a href="usage.html">Использование</a></li>
	 	<li><a href="advanced.html">Дополнительная информация</a></li>	
 		<li><a href="../api/html/index.html">Scripting API</a></li>		
		<!--<li><a href="index.html#license">Лицензия</a></li>
        <li><a href="index.html#versions">История версий</a></li>-->
    </ul>
</div>
<div id="content">
    <div id="left">
<h1>Дополнительная информация</h1>
<h2>Параметры командной строки</h2> 
<p>Формат запуска программы из командной строки выглядит следующим образом:</p>
<p><code>"Image Uploader.exe" [параметры] файл1 файл2 ... папка1 папка2 .. </code></p>
<p>Поддерживаются следующие параметры:</p>
<ul>				 	
				<li><code>/func=addimages</code> — Add Images dialog</li>
				<li><code>/func=addfiles</code> — Add Files dialog</li>	
                
				<li><code>/func=fullscreenshot</code> — capture the entire screen.</li>
			  	<li><code>/func=windowscreenshot</code> — capture the active window.</li>
			  	<li><code>/func=windowhandlescreenshot</code> — select and capture any window (top or child)</li>
				<li><code>/func=topwindowscreenshot</code>(ver >= 1.4.0)  — select and capture a top window</li>
  			  	<li><code>/func=freeformscreenshot</code> — freeform screen capture</li>
				<li><code>/func=screenshotdlg</code> — screenshot dialog</li>
				<li><code>/func=downloadimages</code> — Image Downloader dialog</li>
				<li><code>/func=addfolder</code> — Add folder dialog</li>
				<li><code>/func=paste</code> — paste from clipboard</li>
				<li><code>/func=fromclipboard</code> — paste from clipboard</li>
				<li><code>/func=settings</code> — settings dialog</li>
				<li><code>/func=reuploadimages</code> — re-upload images dialog</li>
				<li><code>/func=shortenurl</code> — URL shortening dialog</li>
				<li><code>/func=mediainfo</code> — MediaInfo dialog</li>
				<li><code>/quickshot</code> — снимок прямоугольной области</li>
				<li><code>/quick</code> и <code>/noquick</code> — включение и выключение режима быстрого начала загрузки (пропуск страниц мастера)</li>
				<li><code>/mediainfo</code> — показ технической информации для первого видео файла в командной строке</li>
				<li><code>/imageeditor</code> — open file in the image editor (version >= 1.3.1.4276)</li> 
				<li><code>/upload</code> (>= v.1.3.2) — нужно включить эту опцию, чтобы "аплодить" первый видеофайл, а не извлекать кадры из него.</li>	
				<li><code>/fromcontextmenu</code> — при использовании этой опции будет использоваться "Сервер для загрузки из контекстного меню проводника"</li>	
				<li><code>/serverprofile=<i>&lt;ServerProfileId&gt;</i></code> — использование профиля настроек при загрузке, имеющего соответствующий идентификатор. Нужный идентификатор можно найти в файле settings.xml,
                в узле "ServerProfiles", имя атрибута "ServerProfileId". В профиль настроек входят: название сервера, имя пользователя, удаленный каталог (папка, альбом),
                профиль обработки изображений, параметры создания миниатюр и др.
                Данная опция командной строки предназначена для работы функции "Пользовательские элементы контекстного меню".</li>	
                <li><code>/tray</code> — запуск программы в свернутом режиме (если включена опция "Показывать значок в трее")</li>
                <li><code>/uninstall</code> — удаление всех записей программы в системном реестре</li>
                <li><code>/debuglog</code> (ver >= 1.3.2) — показать лог ошибок при запуске</li>	
				<li><code>/serverschecker</code> — (ver >= 1.4.0) запуск инструмента проверки работоспособности серверов</li>
</ul>
 
<h2 id="servers">Добавление и редактирование серверов</h2> 
<p>На текущий момент в программе отсутствуют встроенные возможности по модифицированию списка серверов. 

Информация о серверах, доступных в программе, содержится в файлe <code>servers.xml</code>, 
находящемся в подкаталоге <code>Data</code> каталога, в который установлена программа, либо в 
системной папке <code>%appdata%\Image Uploader</code>, относящейся к текущему пользователю. 
Программа использует этот файл в режиме "только для чтения". Этот файл <b>не предназначен для редактирования</b>. 
Все изменения будут потеряны после следующего обновления программы. Свои сервера следует добавлять в папку <code>Data\Servers\</code> 
(если вы используете портативную версию) или <code>%appdata%\Image Uploader\Servers\</code> (если вы использовали инсталлятор) 
в xml файлы с такой же структурой, как у файла servers.xml.
</p>
<p>Файл составлен в соответствии со стандартом <a href="http://ru.wikipedia.org/wiki/XML">XML</a> и 
должен быть сохранен в кодировке utf-8.</p>

<p><b>servers.xml</b> должен иметь следующую структуру:</p>

<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;Servers&gt;
  &lt;Server&gt;
      ...
  &lt;/Server&gt;
  &lt;Server&gt;
      ...
  &lt;/Server&gt;
  ...
&lt;/Servers&gt;
</pre>
<p>Последовательность, в которой указаны сервера в этом файле, не имеет значения. Программа сортирует их в алфавитном порядке.</p>
<p>Каждый вложенный узел <code>&lt;Server&gt;</code> имеет следующий вид:</p> 

<pre class="prettyprint">
&lt;Server Name=&quot;название_сервера&quot; [атрибуты] &gt;
  &lt;SupportedFormats&gt;
    ...
  &lt;/SupportedFormats&gt;	
  &lt;Actions&gt;
    &lt;Action [атрибуты] /&gt;
    &lt;Action [атрибуты] /&gt;
    ...
  &lt;/Actions&gt;
  &lt;Result ImageUrlTemplate=&quot;...&quot; ThumbUrlTemplate=&quot;...&quot; DownloadUrlTemplate=&quot;...&quot;/&gt;
&lt;/Server&gt;
</pre>
			
<p>Узел <code>&lt;Server&gt;</code> может иметь следующие <i>необязательные атрибуты</i>:</p> 

<ul>
	<li><code>Authorize</code> — указывает, поддерживает ли сервер учетные записи. <br />Значения:  <i>0</i> (по умолчанию) — без авторизации,
		<i>1</i> — сервер поддерживает авторизацию, <i>2</i> — авторизация обязательна.</li>
	<li><code>FileHost</code> —   указывает на то, что сервер является хостингом для любых типов файлов (не только изображений). 
		<br />Значения:  <i>0</i> (по умолчанию) — хостинг картинок (эквивалентен <code>Type="image"</code>), <i>1</i> — файловый хостинг (эквивалентен <code>Type="file"</code>) .</li>  
	<li><code>Type</code> —  (ver >= 1.2.8 ) тип сервера. Если задан, то атрибут <code>FileHost</code> игнорируется.
		<br />Значения:  <i>image</i> (по умолчанию) — хостинг картинок, <i>file</i> — файловый хостинг (при этом <code>FileHost="1"</code> тоже обязательно нужно указывать),
		<i>urlshortening</i> — сервис сокращения ссылок (для них вместо xml-узла <code>&lt;Server&gt;</code> следует использовать  <code>&lt;Server2&gt;</code>).<br>
		<i>searchbyimage</i> — серис обратного поиска по изображению
	</li>
	<li><code>Types</code> - (ver >= 1.3.2 )  
		<br>Список типов через пробел, например <code>file image urlshortening</code>
	<li><code>NeedPassword</code> — (ver >= 1.2.9 build 4186) нужен ли пароль для авторизации. Необходимо для серверов с авторизацией через OAuth 2.0. <br />Значения:  <i>1</i> (по умолчанию) — нужен,
		<i>0</i> - не нужен (поле ввода пароля будет не активно)</li>
	<li><code>Debug</code>  — параметр, предназначенный для тестирования и отладки загрузки на данный сервер. 
		При значении <i>1</i> любая загрузка на данный сервер в программе будет сопровождаться отображением информации 
		об отправляемых запросах и принимаемых данных.</li>	
	<li><code>MaxFileSize</code> — максимальный размер загружаемого файла, поддерживаемого сервером. Значение 
		указывается в байтах. Значение по умолчанию — 0, что означает, что файл может быть какого угодно размера.</li>
	<li><code>MinVersion</code> — (ver >= 1.3.1 ) Минимальная версия программы, поддерживаемая данным сервером. Следует использовать, 
              если вы используете возможности, отсутствующие в старых версиях программы. Атрибут должен иметь формат <code>x.x.x</code> или <code>x.x.x.xxxx</code>. При этом вместо узла <code>&lt;Server&gt;</code> следует использовать <code>&lt;Server3&gt;</code>.</li>
	<li><code>Plugin</code> — содержит название файла плагина (без расширения .nut), отвечающего за загрузку на этот сервер. 
		Скрипт должен быть расположен в каталоге Data\Scripts, и иметь расширение <code>.nut</code>. Если данный атрибут 
		не пустой, весь узел &lt;Actions&gt; игнорируется, и всё взаимодействие с серверами перекладывается на 
		скрипт. Однако, узел Actions всё равно может быть задан, для обратной совместимости с версиями программы 
		&lt; 1.2.5.<br />  <a href="#scripts">Подробнее о создании плагинов...</a></li>
	<li><code>Engine</code> — (ver >= 1.3.2 build 4551) название встроенного движка загрузки. Чтобы использовался стандартный движок, нужно оставить
поле пустым. Другие возможные значения: "MegaNz".
	<li><code>SupportsFolders</code> — поддержка альбомов скриптом загрузки. Используется вместе с атрибутом <i>Plugin</i>.</li>
	<li><code>WebsiteUrl</code>  — (ver >= 1.4.1 ) адрес веб-сайта.
	<li><code>RegistrationUrl</code>  — адрес, по которому можно зарегистрироваться на данном сервере.
	<li><code>LoginLabel</code> — (ver >= 1.3.2.4616 ) — надпись перед полем ввода логина (это может быть "E-mail", "Login" и т.п.). Если текст будет слишком длинным, он не будет полностью отображен.
    <li><code>PasswordLabel</code> — (ver >= 1.3.2.4616 ) — надпись перед полем ввода пароля (это может быть "Password", "API Key" и т.п.). Если текст будет слишком длинным, он не будет полностью отображен.
    <li><code>UserAgent</code> — (ver >= 1.3.2.4432 ) — custom http header "User-Agent"
    <li><code>MaxThreads</code> — (ver >= 1.3.2 ) — ограничение количества одновременных соединений (потоков) к этому серверу. 
    Этот ограничивающий параметр введен по двум причинам:
    Во-первых, некоторые серверы ограничивают и блокируют параллельные запросы к ним. Во-вторых, чтобы сохранить порядок изображений в альбоме (при MaxThreads=1).
    По-умолчанию, количество потоков не ограничено.
    <li><code>DefaultForTypes</code> - (ver >= 1.3.3 )  
	<br>Список типов серверов через пробел, например <code>file image</code>, для которых этот сервер является сервером по-умолчанию. 
    Если в файле servers.xml встречается несколько серверов с атрибутом DefaultForTypes и типы пересекаются, в качестве сервера по-умолчанию будет использоваться тот, что встречается в файле позже.
    </li>
	<li><code>UploadToTempServer</code> (ver >= 1.4.1 ) — указывает, нужно ли загружать изображение на промежуточный сервер (актуально только для сервисов поиска по изображению). Эта опция может использоваться, если сервис поиска не поддерживает поиск по загруженному файлу. </li>
</ul>

<h3 id="servers_supported_formats">Узел SupportedFormats</h3>
<p>Необязательный узел. Поддерживается начиная с версии 1.4.1.
Узел должен содержать вложенные узлы <code>FormatGroup</code>.</p>
<p>	Необязательные атрибуты узла <code>FormatGroup</code>:
<ul>
	<li><i>MaxFileSize</i> — максимальный размер файла в этой группе (в байтах).</li>
	<li><i>Authorized</i> — если равен 1, то эта группа форматов относится только к авторизованному пользователю.</li> 
</ul>
</p>
<p>Узел FormatGroup содержит вложенные узлы <code>Format</code>:</p>
<pre class="prettyprint">&lt;Format MimeType=&quot;image/jpeg&quot;&gt;*.jpg,*.jpeg&lt;/Format&gt;</pre>
В атрибуте MimeType перечисляются (через запятую) разрешенные MIME-типы файлов, которые могут содержать подстановочные символы - wildcards, а в тексте узла перечисляются расширения файлов (через запятую), которые также могут содержать подстановочные символы.
Если в одном узле Format указан только MIME-тип(-ы), или только расширение(-ия), то проверка файлов будет производиться только по одному признаку.
</p>

<h3 id="servers_actions">Узел Actions</h3>
<p>Узел <code>&lt;Actions&gt;</code> (без атрибутов) содержит вложенные узлы Action, каждый из которых обозначает одно действие (как правило, это запрос к серверу). Запросы выполняются в том порядке, в котором они указаны в файле, т.е. сверху вниз.</p> 
<pre class="prettyprint">
&lt;Action Type=&quot;get&quot; Url=&quot;http://example.com/&quot; RegExp=&quot;id(\d+)&quot; AssignVars=&quot;ИмяПеременной:0&quot; 
    [дополнительные атрибуты]/&gt;
</pre>


<p>Каждый узел <code>&lt;Action&gt;</code>  может иметь следующие атрибуты:</p>
<ul>
<li><code>Url</code> — обязательный атрибут. Должен содержать HTTP, HTTPS или FTP адрес. Может содержать <a href="#vars">переменные</a>.</li>
<li><code>Type</code>  — тип запроса к серверу (или другого действия). <br />Может принимать следующие значения: 
	<ul>
		<li><i>get</i> — метод  GET  протокола HTTP </li>
		<li><i>post</i> — метод  POST протокола HTTP </li>
		<li><i>login</i> — то же, что и <i>post</i>, но предназначено только для авторизации. </li>
		<li><i>upload</i> — POST-запрос в формате multipart/form-data. Именно этот тип запроса используется 
			в большинстве случаев для загрузки файлов.</li>
		<li><i>put</i> — загрузка файла с помощью HTTP PUT запроса или загрузка на FTP. Поддерживается лишь некоторыми серверами.</li>
		<li><i>openurl</i> (version >= 1.4.1) — открытие URL в приложении по-умолчанию</li>
	</ul>
	</li>
<li><code>PostParams</code> — список параметров, передаваемых серверу по протоколу POST (Type=post или Type=upload), разделенных точкой с запятой.<br />
Список имеет следующий вид: <code>НазваниеПараметра1=Значение1;НазваниеПараметра2=Значение2;...</code><br />
Значения могут содержать названия переменных, которые будут автоматически подставлены (раскрыты) перед выполнением запроса.
Также есть особое значение — <i>%filename%</i>, вместо которого в запрос подставляется содержимое загружаемого файла (не надо путать с <i>_FILENAME</i> ).
Чтобы в значениях использовать сам символ <code>;</code>, необходимо его экранировать: <code>\;</code> .</li>
<li><code>RegExp</code> — регулярное выражение в формате <a href="http://www.php.ru/manual/reference.pcre.pattern.syntax.html">PCRE</a>. Служит для извлечения необходимой информации (ссылок, идентификаторов) из текста ответа, полученного от сервера (чаще всего HTML страницы). 
Если сопоставление регулярному выражению не удалось, программа генерирует предупреждение в лог ошибок и повторяет запрос.</li>
<li><code>AssignVars</code> — в данном атрибуте перечисляются имена новых переменных, и сопоставленные им номера подмасок (subpatterns) 
регулярного выражения. Параметр AssignVars имеет формат <code>НазваниеПеременной:НомерПодмаски;...</code>. 
Подмаска в регулярном выражении это то, что заключено в круглые скобки. Нумерация подмасок начинается с нуля. 
Имя переменной может содержать символы A-z, 0-9 и символ подчеркивания. 
<a href="#vars">Подробнее о переменных в servers.xml</a></li>
<li><code>OnlyOnce</code> — значение <i>1</i> означает, что данный запрос будет выполняться лишь 1 раз за всю сессию загрузки. 
Чаще всего таким запросом является авторизация на сервере. Значение <i>0</i> - данный запрос выполняется при загрузке КАЖДОГО файла.</li>
<li><code>Referer</code> — (опциональный параметр) адрес страницы источника запроса. Используется, если сервер ограничивает запросы с чужих сайтов.
 По умолчанию программа устанавливает Referer такой же, как и адрес запрашиваемой страницы.</li>
<li><code>Description</code> — опциональный параметр, содержащий описание текущего действия. Отображается в окне программы.</li>
<li><code>CustomHeaders</code> — (ver >= 1.3.2.4432) список дополнительных полей заголовка, разделенных точкой с запятой. 
Список должен иметь следующий вид: <code>НазваниеПараметра1:Значение1;НазваниеПараметра2:Значение2;...</code><br />
To remove default field, pass an empty value.
<li>Вложенные узлы (version >= 1.3.2)<br> 
<code>RegExp</code> 
<pre class="prettyprint">
&lt;Action Type=&quot;upload&quot; Url=&quot;http://imgur.com/api/upload.xml&quot; PostParams=&quot;image=%filename%;key=2dd16e2e19119996855ae9312b7a1305;&quot; RegExp='&amp;lt;original_image&amp;gt;(.*?)&amp;lt;\/original_image&amp;gt;([\s\S]*?)&amp;lt;small_thumbnail&amp;gt;(.*?)&amp;lt;\/small_thumbnail&amp;gt;' AssignVars=&quot;Image:0;Thumb:2&quot;&gt;
	&lt;RegExp Pattern=&quot;&amp;lt;delete_page&amp;gt;(.*?)&amp;lt;\/delete_page&amp;gt;&quot; AssignVars=&quot;DeleteUrl:0;&quot;/&gt;
&lt;/Action&gt;
</pre>	
<ul>
	<li><code>Pattern</code> - то же самое, что атрибут RegExp у узла Action.</li>
	<li><code>AssignVars</code> - то же самое, что атрибут AssignVars у узла Action.</li>
	<li><code>Required</code>  - генерировать ошибку, если сопоставление регулярному выражению не удалось. (по умолчанию 0)</li>
	<li><code>Data</code> - в каком тексте производить поиск. Может содержать переменные. (по умолчанию  - текст ответа от сервера)</li>
</ul>
<code>Call</code> - вызов функции (version >= 1.4.0) 
<pre class="prettyprint">
&lt;Call Function=&quot;json&quot; Arg1=&quot;files[0].url&quot; AssignVars=&quot;DownloadUrl:0;&quot;/&gt;
</pre>	
<ul>
	<li><code>Function</code> - название функции. Пока доступны только функции <i>json</i> и <i>regexp</i>. 
		Примеры синтаксиса json path можно увидеть <a href="https://open-source-parsers.github.io/jsoncpp-docs/doxygen/class_json_1_1_path.html" target="_blank">здесь</a>.
	</li>
	<li><code>Arg[n]</code> (Arg0, Arg1, Arg2) - аргументы. Arg0 по-умолчанию содержит тело ответа. Могут содержать переменные.</li>
	<li><code>AssignVars</code> - то же самое, что атрибут AssignVars у узла Action.</li>
	<li><code>Required</code>  - генерировать ошибку, если функция завершилась с ошибкой (по умолчанию 0)</li>	
</ul>
</li>

<br />
</ul>
<h3 id="servers_actions">Узел Result</h3>
<p>Типичный вид xml-узла Result:</p>
<pre class="prettyprint">
&lt;Result ImageUrlTemplate=&quot;$(Image)&quot; ThumbUrlTemplate=&quot;$(Thumb)&quot; DownloadUrlTemplate=&quot;$(View)&quot;/&gt;
</pre>
<p>Атрибуты узла Result:</p>
<ul>
<li><code>ImageUrlTemplate</code> — строка-шаблон для генерации ПРЯМОЙ ссылки на картинку или файл. </li>
<li><code>ThumbUrlTemplate</code>  — строка-шаблон для генерации ПРЯМОЙ ссылки на файл миниатюры. 
Если не задан, программа будет сама генерировать миниатюры, даже если включена опция "Использовать серверные миниатюры". 
Генерирование миниатюры будет невозможно, если параметр ImageUrlTemplate не задан или принимает пустое значение. </li>
<li><code>DownloadUrlTemplate</code> — строка-шаблон для генерации ссылки на страницу просмотра, скачивания и т.п.</li>
<li><code>DeleteUrl</code> — (ver >= 1.3.2) ссылка для удаления файла</li>
<li><code>EditUrl</code> — (ver >= 1.3.2) ссылка для редактирования файла</li>
</ul>
<p>Каждый из этих атрибутов может содержать <a href="#vars">переменные</a>. </p>
<p>Один из атрибутов — ImageUrlTemplate или DownloadUrlTemplate  — должен быть обязательно задан. Программа использует тот или иной атрибут в зависимости от настроек, и в зависимости от того, какой из атрибутов задан, а какой нет. По-умолчанию предпочтение отдается прямой ссылке.
В случае использования скрипта (плагина - атрибут Plugin узла Server), все атрибуты всё равно должны иметь непустые значения. </p>
<a name="vars"></a>
<h3>Переменные в строках и атрибутах</h3>
<p>Все переменные, доступные для использования в атрибутах узлов Action и Result, задаются в параметре AssignVars, или же встроены в саму программу.</p>
<p>Название переменной может содержать алфавитно-цифровые символы (A-z, 0-9) и символ подчеркивания. Имена переменных чувствительны к регистру. 
Если название переменной начинается с символа подчеркивания, это означает, что данная переменная не будет удалена после загрузки файла, и она останется в памяти на всю сессию загрузки. Однако это не означает, что её значение не может быть перезаписано.</p>
<p>Список встроенных переменных:</p>
<ul>
<li><code>_FILENAME</code> — имя загружаемого файла (без пути к файлу).</li>
<li><code>_FILENAMEWITHOUTEXT</code>  — имя загружаемого файла без расширения.</li>
<li><code>_FILEEXT</code> — расширение файла.</li>
<li><code>_THUMBWIDTH</code> — ширина миниатюры.</li>
<li><code>_THUMBHEIGHT</code> — высота миниатюры.</li>
<li><code>_THUMBCREATE</code> (ver >= 1.4.2) — создавать миниатюру (0 или 1). </li>
<li><code>_THUMBADDTEXT</code> (ver >= 1.4.2) — добавлять текст на миниатюру (0 или 1).</li>
<li><code>_THUMBUSESERVER</code> (ver >= 1.4.2) — использовать серверные миниатюры (0 или 1).</li>
<li><code>_RAND16BITS</code> — случайное число от 0 до 65535. Генерируется только один раз при загрузке каждого файла.</li>
<li><code>_THREADID</code> — (ver > 1.3.2) идентификатор текущего потока (нити)</li>
<li><code>_LOGIN</code> — имя пользователя (задана, если пользователь включил авторизацию в настройках)</li>
<li><code>_PASSWORD</code> — пароль пользователя.</li>
<li><code>_ORIGINALURL</code> — ссылка, которую надо сократить (только для серверов сокращения ссылок).</li>
<li><code>_IMAGEURL</code> (ver > 1.4.1) — прямая ссылка на изображение для поиска по нему (которое может находиться на промежуточном хостинге хранения изображений). Это актуально только для узла Server c <code>Type="searchbyimage"</code>. </li>
</ul>
<p>Для подстановки значений переменных в строковые параметры используются конструкции вида <code>$(ИмяПеременной)</code>. Количество подставляемых переменных не ограничивается.
Если переменная не существует, вместо неё будет подставлена пустая строка.</p>
<p>Пример:</p>
<pre class="prettyprint">
&lt;Server Name=&quot;slil.ru&quot; FileHost=&quot;1&quot;&gt;
        &lt;Actions&gt;
             &lt;Action Type=&quot;upload&quot; Url=&quot;http://zalil.ru/upload/&quot; PostParams=&quot;file=%filename%;submit=Send&quot; 
		RegExp=&quot;http://slil.ru/(\d*)&quot; AssignVars=&quot;File:0&quot;/&gt;
        &lt;/Actions&gt;
        &lt;Result DownloadUrlTemplate=&quot;http://slil.ru/$(File)&quot;/&gt;
&lt;/Server&gt;
</pre>
<p>В строке <code>AssignVars="File:0"</code> задается переменная с именем File и ей присваивается некоторое числовое значение, 
полученное из первой подмаски регулярного выражения (например, <code>File=12345</code>). 
Затем созданная переменная используется в параметре <code>DownloadUrlTemplate="http://slil.ru/$(File)"</code>, который в результате подстановки принимает значение <code>http://slil.ru/12345</code>. 
Полученную ссылку пользователь видит в окне программы.</p>
<b>Преобразование переменных с помощью фильтров (version >= 1.2.9)</b>
<p>
Переменные можно преобразовывать при выводе. Пример: <code>$(Переменная|НазваниеФильтра)</code>
<p>Список фильтров:</p>
<p>
<code>urlencode</code> - процентное кодирование. Пример <code>Url="http://example.com?filename=$(_FILENAME|urlencode)"</code><br>
<code>htmldecode</code> - (version >= 1.3.2) decode HTML entities <br>

<a name="scripts"></a>
<h2>Создание скриптов (плагинов)</h2> 
<p>Для расширенной поддержки серверов в программе используются скрипты на <a href="http://www.squirrel-lang.org/" target="_blank">
 языке Squirrel 3</a> (до версии 1.3.2 использовался Squirrel 2).</p> 
<p>Они должны быть сохранены в кодировке utf-8 в файлах с расширением <code>.nut</code>.
<p>
<a href="../api/html/index.html">Scripting API reference</a><p>
<a href="http://www.squirrel-lang.org/doc/squirrel3.html" target="_blank">Документация языка Squirrel</a><br>
<a href="http://www.squirrel-lang.org/doc/sqstdlib3.pdf" target="_blank">Документация стандартной библиотеки языка Squirrel (PDF)</a>
</p>

</div>
</div>
</div>
<div id="footer">
<p>Copyright &copy; 2007 - 2024 Sergey Svistunov</p>
</div>

</body>
</html>